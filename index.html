<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>خطبة - Khutbah: Formation and Presentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .presentation-container {
            max-width: 1000px;
            width: 95%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .slide {
            display: none;
            padding: 40px;
            text-align: center;
            min-height: 700px;
            position: relative;
            overflow-y: auto;
        }

        .slide.active {
            display: block;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .arabic {
            font-family: 'Arial Unicode MS', 'Tahoma', sans-serif; /* Keep this for broad compatibility */
            direction: rtl;
            text-align: right;
            font-size: 1.1em;
            line-height: 1.8;
            color: #2c3e50;
            background: linear-gradient(135deg, #f8f9ff 0%, #e8f0ff 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-right: 5px solid #3498db;
            transition: all 0.3s ease;
        }

        .arabic:hover {
            transform: translateX(-5px);
            box-shadow: 5px 5px 15px rgba(0,0,0,0.1);
        }

        .english {
            direction: ltr;
            text-align: left;
            font-size: 1.05em;
            line-height: 1.7;
            color: #34495e;
            background: linear-gradient(135deg, #fff8f0 0%, #ffe8d0 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #e67e22;
            transition: all 0.3s ease;
        }

        .english:hover {
            transform: translateX(5px);
            box-shadow: -5px 5px 15px rgba(0,0,0,0.1);
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: pulse 2s infinite;
        }

        h2 {
            color: #2c3e50;
            margin-bottom: 25px;
            font-size: 2em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        h3 {
            color: #2980b9;
            margin: 20px 0 15px 0;
            font-size: 1.4em;
        }

        .types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .type-card {
            background: linear-gradient(135deg, #ffffff 0%, #f0f8ff 100%);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .type-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            transition: all 0.5s ease;
            opacity: 0;
        }

        .type-card:hover::before {
            opacity: 1;
            animation: shimmer 1s ease-in-out;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .type-card:hover {
            transform: translateY(-10px) rotateY(5deg);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            border-color: #3498db;
        }

        .type-card.selected {
            border-color: #27ae60;
            background: linear-gradient(135deg, #d5f4e6 0%, #a8e6cf 100%);
            animation: bounce 0.6s ease;
        }

        .navigation {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 100;
        }

        .nav-btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
            position: relative;
            overflow: hidden;
        }

        .nav-btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
        }

        .nav-btn:hover::after {
            width: 300px;
            height: 300px;
        }

        .nav-btn:hover {
            background: linear-gradient(45deg, #2980b9, #3498db);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(52, 152, 219, 0.4);
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .slide-counter {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(52, 152, 219, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            color: #2c3e50;
            backdrop-filter: blur(10px);
        }

        .interactive-section {
            background: linear-gradient(135deg, #e8f8f5 0%, #d5f4e6 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border: 2px solid #27ae60;
            transition: all 0.3s ease;
        }

        .interactive-section:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(39, 174, 96, 0.2);
        }

        .question {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
            border-left: 4px solid #f39c12;
            text-align: left;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .question:hover {
            transform: translateX(10px);
            box-shadow: -5px 5px 15px rgba(243, 156, 18, 0.3);
        }

        .highlight {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            padding: 3px 8px;
            border-radius: 6px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            position: relative; /* Added for tooltip positioning */
            display: inline-block; /* Added for tooltip positioning */
            cursor: help; /* Indicates interactivity */
        }

        .highlight:hover {
            animation: pulse 0.5s ease;
        }

        .highlight .tooltiptext {
            visibility: hidden;
            width: 220px; /* Increased width for better readability */
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px 10px; /* Increased padding */
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position the tooltip above the text */
            left: 50%;
            margin-left: -110px; /* Half of new width */
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em; /* Slightly larger font */
            line-height: 1.4; /* Better line spacing */
            box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* Add shadow for depth */
        }

        .highlight .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #555 transparent transparent transparent;
        }

        .highlight.active-highlight .tooltiptext {
            visibility: visible;
            opacity: 1;
        }


        .example-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid #6c757d;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            transition: all 0.3s ease;
        }

        .example-box:hover {
            border-color: #007bff;
            box-shadow: 0 10px 25px rgba(0, 123, 255, 0.15);
        }

        .example-box::before {
            content: "مثال / Example";
            position: absolute;
            top: -12px;
            left: 20px;
            background: #6c757d;
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 0.8em;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .example-box:hover::before {
            background: #007bff;
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(45deg, #3498db, #9b59b6);
            transition: width 0.3s ease;
            z-index: 1000;
        }

        .question-assignment {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            color: white;
            text-align: center;
        }

        .assign-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 10px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .assign-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .assign-btn:hover::before {
            left: 100%;
        }

        .assign-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.4);
        }

        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .popup-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            color: white;
            max-width: 500px;
            width: 90%;
            animation: popupAppear 0.5s ease;
            box-shadow: 0 15px 30px rgba(0,0,0,0.4);
        }

        @keyframes popupAppear {
            from { 
                opacity: 0; 
                transform: translate(-50%, -50%) scale(0.8);
            }
            to { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .close-popup {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .close-popup:hover {
            background: #c0392b;
            transform: scale(1.1);
        }

        .detailed-example {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #e67e22;
            transition: all 0.3s ease;
        }

        .detailed-example:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(230, 126, 34, 0.2);
        }

        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .floating-element {
            position: absolute;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .quiz-container {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 30px;
            border-radius: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .quiz-question {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-question:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .quiz-question.correct {
            border-left-color: #27ae60;
            background: #d5f4e6;
        }

        .quiz-question.incorrect {
            border-left-color: #e74c3c;
            background: #fadbd8;
        }

        .presentees-btn {
            background: linear-gradient(45deg, #9b59b6, #667eea);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 20px 0;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(155, 89, 182, 0.3);
        }

        .presentees-btn:hover {
            transform: translateY(-3px) scale(1.02); /* Added scale for more pop */
            box-shadow: 0 10px 25px rgba(155, 89, 182, 0.4);
        }

        .presentees-btn:active {
            transform: translateY(-1px); /* More subtle bounce on click */
            box-shadow: 0 2px 10px rgba(155, 89, 182, 0.5);
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    
    <div class="presentation-container">
        <div class="floating-elements" id="floatingElements"></div>
        <div class="slide-counter" id="slideCounter">1 / 12</div>

        <div class="slide active">
            <h1>خُطْبَة - Khutbah</h1>
            <h2>Formation and Presentation Guide</h2>
            
            <div class="arabic">
                <h3>مَرْحَبًا بِكُمْ فِي دَلِيلِ الخُطْبَةِ التَّفَاعُلِيِّ</h3>
                <p>سَنَتَعَلَّمُ الْيَوْمَ كَيْفِيَّةَ إِعْدَادِ الْخُطْبَةِ وَإِلْقَائِهَا بِطَرِيقَةٍ فَعَّالَةٍ وَمُؤَثِّرَةٍ مَعَ أَمْثِلَةٍ وَتَمَارِينَ تَفَاعُلِيَّةٍ.</p>
            </div>
            
            <div class="english">
                <h3>Welcome to the Interactive Khutbah Guide</h3>
                <p>Today we will learn how to prepare and deliver an effective and impactful khutbah with practical examples and interactive exercises.</p>
            </div>

            <button class="presentees-btn" onclick="showPresentees()">👥 Show Presentation Attendees</button>
        </div>

        <div class="slide">
            <h2>مَا هِيَ الخُطْبَةُ؟ - What is Khutbah?</h2>
            
            <div class="arabic">
                <h3>التَّعْرِيفُ</h3>
                <p>الخُطْبَةُ هِيَ <span class="highlight" onclick="showTooltip(this, 'Kalam munazzam wa mu’aththir: Meaning organized and influential speech. It emphasizes the structure and impact of the address.')">كَلَامٌ مُنَظَّمٌ وَمُؤَثِّرٌ</span> يُلْقَى أَمَامَ الْجُمْهُورِ لِتَوْجِيهِهِمْ وَتَعْلِيمِهِمْ.</p>
                <p>تَتَضَمَّنُ الْحَمْدَ وَالثَّنَاءَ، وَالْآيَاتِ الْقُرْآنِيَّةَ، وَالْأَحَادِيثَ النَّبَوِيَّةَ، وَالْمَوْعِظَةَ الْحَسَنَةَ.</p>
            </div>
            
            <div class="english">
                <h3>Definition</h3>
                <p>A khutbah is an <span class="highlight" onclick="showTooltip(this, 'Organized and impactful speech: A well-structured talk that leaves a strong impression.')">organized and impactful speech</span> delivered to an audience for guidance and education.</p>
                <p>It includes praise and gratitude, Quranic verses, prophetic traditions, and good counsel.</p>
            </div>

            <div class="interactive-section">
                <h3>💡 Interactive Learning</h3>
                <p>Click the <strong style="color: #ff6b6b;">highlighted words</strong> above to learn more!</p>
            </div>

            <div class="quiz-container">
                <h3>Quick Quiz: What does the word "khutbah" mean?</h3>
                <div class="quiz-question" onclick="checkAnswer(this, false)">A) To pray silently</div>
                <div class="quiz-question" onclick="checkAnswer(this, true)">B) To address or speak</div>
                <div class="quiz-question" onclick="checkAnswer(this, false)">C) To read quietly</div>
            </div>
        </div>

        <div class="slide">
            <h2>أَنْوَاعُ الْخُطَبِ - Types of Khutbah</h2>
            
            <div class="types-grid">
                <div class="type-card" onclick="selectType(this, 'friday')">
                    <div class="arabic">
                        <h3>خُطْبَةُ الْجُمُعَةِ</h3>
                        <p>الْخُطْبَةُ الْأُسْبُوعِيَّةُ يَوْمَ الْجُمُعَةِ.</p>
                    </div>
                    <div class="english">
                        <h3>Friday Sermon</h3>
                        <p>Weekly sermon on Friday.</p>
                    </div>
                </div>

                <div class="type-card" onclick="selectType(this, 'eid')">
                    <div class="arabic">
                        <h3>خُطْبَةُ الْعِيدِ</h3>
                        <p>خُطْبَةٌ خَاصَّةٌ بِأَعْيَادِ الْمُسْلِمِينَ.</p>
                    </div>
                    <div class="english">
                        <h3>Eid Sermon</h3>
                        <p>Special sermon for Islamic celebrations.</p>
                    </div>
                </div>

                <div class="type-card" onclick="selectType(this, 'nikah')">
                    <div class="arabic">
                        <h3>خُطْبَةُ النِّكَاحِ</h3>
                        <p>خُطْبَةُ مَرَاسِمِ الزَّوَاجِ.</p>
                    </div>
                    <div class="english">
                        <h3>Wedding Sermon</h3>
                        <p>Marriage ceremony address.</p>
                    </div>
                </div>

                <div class="type-card" onclick="selectType(this, 'janaza')">
                    <div class="arabic">
                        <h3>خُطْبَةُ الْجِنَازَةِ</h3>
                        <p>خُطْبَةٌ فِي الْمُنَاسَبَاتِ الْحَزِينَةِ.</p>
                    </div>
                    <div class="english">
                        <h3>Funeral Sermon</h3>
                        <p>Address during mourning occasions.</p>
                    </div>
                </div>
            </div>

            <div class="interactive-section">
                <h3>🎯 Interactive Feature</h3>
                <p>Click on any khutbah type above to see detailed examples!</p>
            </div>
        </div>

        <div class="slide">
            <h2>مِثَالُ خُطْبَةِ الْجُمُعَةِ - Friday Khutbah Example</h2>
            
            <div class="detailed-example">
                <div class="arabic">
                    <h3>خُطْبَةُ الْجُمُعَةِ - مَوْضُوعُ: التَّوْبَةِ</h3>
                    <p><strong>الِافْتِتَاحِيَّةُ:</strong></p>
                    <p>الْحَمْدُ لِلَّهِ الَّذِي يَقْبَلُ التَّوْبَةَ عَنْ عِبَادِهِ وَيَعْفُو عَنِ السَّيِّئَاتِ، وَأَشْهَدُ أَنْ لَا إِلَهَ إِلَّا اللهُ وَحْدَهُ لَا شَرِيكَ لَهُ، وَأَشْهَدُ أَنَّ مُحَمَّدًا عَبْدُهُ وَرَسُولُهُ...</p>
                    <p><strong>صُلْبُ الْمَوْضُوعِ:</strong> يَا عِبَادَ اللهِ، إِنَّ التَّوْبَةَ بَابُ الرَّحْمَةِ الَّذِي فَتَحَهُ اللهُ لِعِبَادِهِ.</p>
                </div>
                
                <div class="english">
                    <h3>Friday Khutbah - Topic: Repentance</h3>
                    <p><strong>Opening:</strong></p>
                    <p>All praise is due to Allah who accepts repentance from His servants and forgives sins, and I bear witness that there is no god but Allah alone with no partner, and I bear witness that Muhammad is His servant and messenger...</p>
                    <p><strong>Main Topic:</strong> O servants of Allah, repentance is the door of mercy that Allah has opened for His servants.</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>مِثَالُ خُطْبَةِ الْعِيدِ - Eid Khutbah Example</h2>
            
            <div class="detailed-example">
                <div class="arabic">
                    <h3>خُطْبَةُ عِيدِ الْفِطْرِ</h3>
                    <p><strong>الِافْتِتَاحِيَّةُ:</strong></p>
                    <p>اللهُ أَكْبَرُ اللهُ أَكْبَرُ اللهُ أَكْبَرُ، لَا إِلَهَ إِلَّا اللهُ، اللهُ أَكْبَرُ اللهُ أَكْبَرُ وَلِلَّهِ الْحَمْدُ.</p>
                    <p><strong>صُلْبُ الْمَوْضُوعِ:</strong> أَيُّهَا الْمُسْلِمُونَ، لَقَدْ مَنَّ اللهُ عَلَيْكُمْ بِإِتْمَامِ شَهْرِ رَمَضَانَ، فَلَهُ الْحَمْدُ وَالشُّكْرُ.</p>
                </div>
                
                <div class="english">
                    <h3>Eid al-Fitr Khutbah</h3>
                    <p><strong>Opening:</strong></p>
                    <p>Allah is the Greatest, Allah is the Greatest, Allah is the Greatest, there is no god but Allah, Allah is the Greatest, Allah is the Greatest, and all praise is due to Allah.</p>
                    <p><strong>Main Topic:</strong> O Muslims, Allah has blessed you with the completion of the month of Ramadan, so to Him belongs all praise and gratitude.</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>مِثَالُ خُطْبَةِ النِّكَاحِ - Wedding Khutbah Example</h2>
            
            <div class="detailed-example">
                <div class="arabic">
                    <h3>خُطْبَةُ عَقْدِ النِّكَاحِ</h3>
                    <p><strong>الِافْتِتَاحِيَّةُ:</strong></p>
                    <p>الْحَمْدُ لِلَّهِ الَّذِي خَلَقَ الْأَزْوَاجَ كُلَّهَا، وَجَعَلَ بَيْنَهُمْ مَوَدَّةً وَرَحْمَةً.</p>
                    <p><strong>صُلْبُ الْمَوْضُوعِ:</strong> إِنَّ الزَّوَاجَ فِي الْإِسْلَامِ مِيثَاقٌ غَلِيظٌ، وَسُنَّةُ الْمُرْسَلِينَ.</p>
                    <p><strong>النَّصَائِحُ:</strong> أُوصِيكُمْ بِتَقْوَى اللهِ، وَالْمُعَاشَرَةِ بِالْمَعْرُوفِ.</p>
                </div>
                
                <div class="english">
                    <h3>Marriage Contract Khutbah</h3>
                    <p><strong>Opening:</strong></p>
                    <p>All praise is due to Allah who created all pairs and placed between them love and mercy.</p>
                    <p><strong>Main Topic:</strong> Marriage in Islam is a solemn covenant and the way of the messengers.</p>
                    <p><strong>Advice:</strong> I advise you to fear Allah and live together in kindness.</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>مِثَالُ خُطْبَةِ الْجِنَازَةِ - Funeral Khutbah Example</h2>
            
            <div class="detailed-example">
                <div class="arabic">
                    <h3>خُطْبَةٌ فِي الْجِنَازَةِ</h3>
                    <p><strong>الِافْتِتَاحِيَّةُ:</strong></p>
                    <p>الْحَمْدُ لِلَّهِ الَّذِي قَضَى عَلَى عِبَادِهِ بِالْمَوْتِ، وَجَعَلَهُ رَاحَةً لِلْمُؤْمِنِينَ مِنْ دَارِ الْبَلَاءِ.</p>
                    <p><strong>صُلْبُ الْمَوْضُوعِ:</strong> إِنَّ الْمَوْتَ حَقٌّ، وَإِنَّ الْبَعْثَ حَقٌّ، وَإِنَّ الْحِسَابَ حَقٌّ.</p>
                    <p><strong>التَّذْكِيرُ:</strong> فَاذْكُرُوا الْمَوْتَ وَاسْتَعِدُّوا لِلِقَاءِ اللهِ.</p>
                </div>
                
                <div class="english">
                    <h3>Funeral Khutbah</h3>
                    <p><strong>Opening:</strong></p>
                    <p>All praise is due to Allah who has decreed death upon His servants and made it a relief for the believers from the abode of trials.</p>
                    <p><strong>Main Topic:</strong> Death is true, resurrection is true, and accountability is true.</p>
                    <p><strong>Reminder:</strong> So remember death and prepare to meet Allah.</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>هَيْكَلُ الْخُطْبَةِ - Structure of Khutbah</h2>
            
            <div class="types-grid">
                <div class="type-card">
                    <div class="arabic">
                        <h3>الْمُقَدِّمَةُ</h3>
                        <p>الْحَمْدُ وَالثَّنَاءُ وَالشَّهَادَتَانِ.</p>
                    </div>
                    <div class="english">
                        <h3>Introduction</h3>
                        <p>Praise, gratitude, and testimonies.</p>
                    </div>
                </div>

                <div class="type-card">
                    <div class="arabic">
                        <h3>صُلْبُ الْمَوْضُوعِ</h3>
                        <p>الْآيَاتُ وَالْأَحَادِيثُ وَالْمَوْعِظَةُ.</p>
                    </div>
                    <div class="english">
                        <h3>Main Content</h3>
                        <p>Verses, hadiths, and sermon.</p>
                    </div>
                </div>

                <div class="type-card">
                    <div class="arabic">
                        <h3>الدُّعَاءُ</h3>
                        <p>الدُّعَاءُ وَالِاسْتِغْفَارُ.</p>
                    </div>
                    <div class="english">
                        <h3>Supplication</h3>
                        <p>Prayers and seeking forgiveness.</p>
                    </div>
                </div>

                <div class="type-card">
                    <div class="arabic">
                        <h3>الْخَاتِمَةُ</h3>
                        <p>التَّوْصِيَاتُ الْخِتَامِيَّةُ وَالْحَمْدُ.</p>
                    </div>
                    <div class="english">
                        <h3>Conclusion</h3>
                        <p>Final recommendations and praise.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>خَطَوَاتُ الْإِعْدَادِ - Preparation Steps</h2>
            
            <div class="example-box">
                <div class="arabic">
                    <h3>1. اِخْتِيَارُ الْمَوْضُوعِ</h3>
                    <p>يَجِبُ أَنْ يَكُونَ الْمَوْضُوعُ مُلَائِمًا لِلْمُنَاسَبَةِ وَوَاقِعِيًّا.</p>
                </div>
                <div class="english">
                    <h3>1. Topic Selection</h3>
                    <p>The topic should be suitable for the occasion and relevant.</p>
                </div>
            </div>

            <div class="example-box">
                <div class="arabic">
                    <h3>2. جَمْعُ الْمُحْتَوَى</h3>
                    <p>الْآيَاتُ، الْأَحَادِيثُ، الْقِصَصُ، الْأَمْثِلَةُ.</p>
                </div>
                <div class="english">
                    <h3>2. Content Gathering</h3>
                    <p>Verses, hadiths, stories, examples.</p>
                </div>
            </div>

            <div class="example-box">
                <div class="arabic">
                    <h3>3. التَّنْظِيمُ وَالتَّرْتِيبُ</h3>
                    <p>هَيْكَلَةُ الْخُطْبَةِ بِشَكْلٍ مَنْطِقِيٍّ وَجَذَّابٍ.</p>
                </div>
                <div class="english">
                    <h3>3. Organization and Arrangement</h3>
                    <p>Structuring the khutbah logically and engagingly.</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>نَصَائِحُ الْإِلْقَاءِ - Presentation Tips</h2>
            
            <div class="example-box">
                <div class="arabic">
                    <h3>1. الثِّقَةُ بِالنَّفْسِ</h3>
                    <p>تَحَدَّثْ بِوُضُوحٍ وَثِقَةٍ.</p>
                </div>
                <div class="english">
                    <h3>1. Self-Confidence</h3>
                    <p>Speak clearly and confidently.</p>
                </div>
            </div>

            <div class="example-box">
                <div class="arabic">
                    <h3>2. التَّوَاصُلُ الْبَصَرِيُّ</h3>
                    <p>اُنْظُرْ إِلَى الْجُمْهُورِ.</p>
                </div>
                <div class="english">
                    <h3>2. Eye Contact</p>
                </div>
            </div>

            <div class="example-box">
                <div class="arabic">
                    <h3>3. اسْتِخْدَامُ الصَّوْتِ وَلُغَةِ الْجَسَدِ</h3>
                    <p>التَّنْوِيعُ فِي النَّبْرَةِ وَالْإِيمَاءَاتِ.</p>
                </div>
                <div class="english">
                    <h3>3. Use of Voice and Body Language</h3>
                    <p>Varying tone and gestures.</p>
                </div>
            </div>

            <div class="example-box">
                <div class="arabic">
                    <h3>4. الِاخْتِصَارُ وَالتَّرْكِيزُ</h3>
                    <p>تَجَنَّبِ الْإِطَالَةَ وَرَكِّزْ عَلَى النِّقَاطِ الْأَسَاسِيَّةِ.</p>
                </div>
                <div class="english">
                    <h3>4. Conciseness and Focus</h3>
                    <p>Avoid excessive length and focus on key points.</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>أَخْطَاءٌ شَائِعَةٌ - Common Mistakes</h2>
            
            <div class="example-box">
                <div class="arabic">
                    <h3>1. الْإِطَالَةُ الْمُفْرِطَةُ</h3>
                    <p>قَدْ يَفْقِدُ الْجُمْهُورُ تَرْكِيزَهُ.</p>
                </div>
                <div class="english">
                    <h3>1. Excessive Length</h3>
                    <p>The audience may lose focus.</p>
                </div>
            </div>

            <div class="example-box">
                <div class="arabic">
                    <h3>2. عَدَمُ التَّحْضِيرِ الْجَيِّدِ</h3>
                    <p>يُؤَدِّي إِلَى التَّشَتُّتِ وَعَدَمِ التَّرَابُطِ.</p>
                </div>
                <div class="english">
                    <h3>2. Poor Preparation</h3>
                    <p>Leads to distraction and disorganization.</p>
                </div>
            </div>

            <div class="example-box">
                <div class="arabic">
                    <h3>3. عَدَمُ التَّفَاعُلِ مَعَ الْجُمْهُورِ</h3>
                    <p>الْخُطْبَةُ لَيْسَتْ مُحَاضَرَةً مِنْ طَرَفٍ وَاحِدٍ.</p>
                </div>
                <div class="english">
                    <h3>3. Lack of Audience Interaction</h3>
                    <p>A khutbah is not a one-sided lecture.</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>الْخَاتِمَةُ وَأَسْئِلَةٌ - Conclusion & Q&A</h2>
            
            <div class="arabic">
                <h3>شُكْرًا لِحُضُورِكُمْ</h3>
                <p>نَأْمَلُ أَنْ يَكُونَ هَذَا الدَّلِيلُ قَدْ أَفَادَكُمْ فِي فَهْمِ كَيْفِيَّةِ إِعْدَادِ الْخُطْبَةِ وَإِلْقَائِهَا بِفَعَالِيَّةٍ.</p>
            </div>
            
            <div class="english">
                <h3>Thank you for attending</h3>
                <p>We hope this guide has benefited you in understanding how to prepare and deliver a khutbah effectively.</p>
            </div>

            <div class="question-assignment">
                <h2>هَلْ لَدَيْكَ أَسْئِلَةٌ؟ - Do you have any questions?</h2>
                <p>اِضْغَطْ عَلَى الزِّرِّ أَدْنَاهُ لِسُؤَالِ أَحَدِ الْحُضُورِ سُؤَالًا مُبَاشِرًا!</p>
                <p>Click the button below to ask a specific attendee a question!</p>
                <button class="assign-btn" onclick="askNextSpecificQuestion()">Ask a Specific Question</button>
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">Previous</button>
            <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Next</button>
        </div>
    </div>

    <div class="popup" id="presenteesPopup">
        <div class="popup-content">
            <h2>Presentation Attendees</h2>
            <ul id="attendeesList" style="list-style-type: none; padding: 0;">
                </ul>
            <button class="close-popup" onclick="closePresenteesPopup()">Close</button>
        </div>
    </div>

    <div class="popup" id="specificQuestionPopup">
        <div class="popup-content">
            <h2 id="questionTargetName">Question for:</h2>
            <p id="assignedQuestion" style="font-size: 1.2em; margin-top: 20px;"></p>
            <button class="close-popup" onclick="closeSpecificQuestionPopup()">Dismiss</button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        const progressBar = document.getElementById('progressBar');
        const slideCounter = document.getElementById('slideCounter');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const floatingElementsContainer = document.getElementById('floatingElements');

        const targetedQuestions = [
            { name: "Abdullah Milanzi", question: "What is the primary purpose of the 'Introduction' in a Khutbah, and what elements should it contain?" },
            { name: "Zakariyyah Mpondo", question: "Discuss the importance of selecting a 'relevant' topic for a Friday Khutbah. Provide an example of an irrelevant topic and explain why." },
            { name: "Ismail Moffat", question: "Based on the presentation, what is meant by 'Conciseness and Focus' in Khutbah delivery, and why is it crucial for audience engagement?" },
            { name: "Abdullah Makunganya", question: "Explain how 'Eye Contact' contributes to an effective Khutbah. What are the benefits for the speaker and the audience?" },
            { name: "Salim Shaabaan", question: "The presentation mentioned 'Common Mistakes'. Can you elaborate on 'Poor Preparation' and its potential negative impacts on a Khutbah?" },
            { name: "Saleem Mpongose", question: "How does the 'Main Content' section of a Khutbah integrate Quranic verses and Hadiths to convey its message effectively?" },
            { name: "Adam Malijane", question: "In the context of a Funeral Khutbah, what key themes or reminders are typically conveyed to the attendees?" },
            { name: "Mustapher Zilika", question: "What is the significance of 'Du'a (Supplication)' at the end of a Khutbah? What are we asking Allah for?" },
            { name: "Abdul Hameed Banda", question: "Describe how 'Self-Confidence' can positively impact a speaker's delivery of a Khutbah. What are some ways to build it?" },
            { name: "Ashrafu Juliana James", question: "A Khutbah is not a 'one-sided lecture'. How can a speaker subtly encourage 'Audience Interaction' or engagement, even if direct questions aren't taken?" },
            { name: "Ismail Malik", question: "Contrast the tone and primary message of an Eid Khutbah versus a Janaza Khutbah. How do they differ to suit their respective occasions?" },
            { name: "Jannah Chindamba", question: "Beyond the examples provided, can you suggest another type of occasion where a Khutbah might be delivered, and what its focus might be?" },
            { name: "Shareef Chileka", question: "The presentation emphasizes 'Organization and Arrangement'. Why is structuring the Khutbah logically important for the audience's understanding?" },
            { name: "Abdul Hameed Wasi", question: "Think about the role of a Khutbah in community guidance. How can it address contemporary challenges faced by the Muslim community?" },
            { name: "Mussah Bun Swaleh", question: "What are the linguistic and rhetorical aspects a Khateeb (speaker) should consider when preparing a Khutbah in both Arabic and English?" },
            { name: "Fickrah Makwinja", question: "If you were to prepare a Khutbah on the importance of unity in Islam, what specific Quranic verse or Hadith would you choose to emphasize?" },
            { name: "Mussah Fakude", question: "How can a Khutbah effectively inspire action and positive change in the lives of the listeners?" }
        ];

        let currentQuestionIndex = 0; // To track which question to ask next

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === index) {
                    slide.classList.add('active');
                }
            });
            updateNavigationButtons();
            updateProgressBar();
            updateSlideCounter();
        }

        function changeSlide(direction) {
            currentSlide += direction;
            if (currentSlide < 0) {
                currentSlide = 0; 
            } else if (currentSlide >= totalSlides) {
                currentSlide = totalSlides - 1; 
            }
            showSlide(currentSlide);
        }

        function updateNavigationButtons() {
            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === totalSlides - 1;
        }

        function updateProgressBar() {
            const progress = ((currentSlide + 1) / totalSlides) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function updateSlideCounter() {
            slideCounter.textContent = `${currentSlide + 1} / ${totalSlides}`;
        }

        // --- New/Modified: Tooltip function for highlighted words ---
        function showTooltip(element, text) {
            // Remove any active tooltips first
            document.querySelectorAll('.active-highlight').forEach(el => {
                el.classList.remove('active-highlight');
                const existingTooltip = el.querySelector('.tooltiptext');
                if (existingTooltip) {
                    existingTooltip.remove();
                }
            });

            // Add the tooltip to the clicked element
            const tooltip = document.createElement('span');
            tooltip.classList.add('tooltiptext');
            tooltip.textContent = text;
            element.appendChild(tooltip);
            element.classList.add('active-highlight');

            // Hide the tooltip after a few seconds
            setTimeout(() => {
                element.classList.remove('active-highlight');
                if (tooltip.parentNode) { // Check if tooltip is still in DOM before removing
                    tooltip.remove();
                }
            }, 3000); // Tooltip visible for 3 seconds
        }
        // --- End New/Modified ---

        function showPresentees() {
            const attendeesList = document.getElementById('attendeesList');
            attendeesList.innerHTML = ''; // Clear previous list
            targetedQuestions.forEach(item => { 
                const li = document.createElement('li');
                li.textContent = item.name;
                attendeesList.appendChild(li);
            });
            document.getElementById('presenteesPopup').style.display = 'block';
        }

        function closePresenteesPopup() {
            document.getElementById('presenteesPopup').style.display = 'none';
        }

        function askNextSpecificQuestion() {
            if (currentQuestionIndex < targetedQuestions.length) {
                const target = targetedQuestions[currentQuestionIndex];
                document.getElementById('questionTargetName').textContent = `Question for: ${target.name}`;
                document.getElementById('assignedQuestion').textContent = target.question;
                document.getElementById('specificQuestionPopup').style.display = 'block';
                currentQuestionIndex++; 
            } else {
                alert("All specific questions have been asked for this session! Click 'Dismiss' to close. The questions will restart if you click again.");
                currentQuestionIndex = 0; // Reset to loop through questions again if desired
            }
        }

        function closeSpecificQuestionPopup() {
            document.getElementById('specificQuestionPopup').style.display = 'none';
        }

        function selectType(card, type) {
            document.querySelectorAll('.type-card').forEach(c => c.classList.remove('selected'));
            card.classList.add('selected');
            
            let slideIndex;
            switch(type) {
                case 'friday': slideIndex = 3; break; 
                case 'eid': slideIndex = 4; break;    
                case 'nikah': slideIndex = 5; break;  
                case 'janaza': slideIndex = 6; break; 
                default: slideIndex = 0;
            }
            currentSlide = slideIndex;
            showSlide(currentSlide);
        }

        function checkAnswer(selectedOption, isCorrect) {
            const quizQuestions = selectedOption.parentNode.children;
            // First, remove any previous correct/incorrect states and re-enable clicks
            for (let i = 0; i < quizQuestions.length; i++) {
                quizQuestions[i].classList.remove('correct', 'incorrect');
                quizQuestions[i].style.pointerEvents = 'auto'; // Re-enable for the next interaction
                quizQuestions[i].style.animation = 'none'; // Ensure no lingering animation
            }

            // Then, apply the new state and disable clicks for current options
            for (let i = 0; i < quizQuestions.length; i++) {
                quizQuestions[i].style.pointerEvents = 'none'; 
            }

            if (isCorrect) {
                selectedOption.classList.add('correct');
            } else {
                selectedOption.classList.add('incorrect');
            }
            selectedOption.style.animation = 'bounce 0.5s ease-out'; // Add bounce animation
        }

        // Initialize floating elements
        function createFloatingElements() {
            const numElements = 15;
            for (let i = 0; i < numElements; i++) {
                const element = document.createElement('div');
                element.classList.add('floating-element');
                element.style.width = `${Math.random() * 50 + 20}px`;
                element.style.height = element.style.width;
                element.style.left = `${Math.random() * 100}%`;
                element.style.top = `${Math.random() * 100}%`;
                element.style.animationDuration = `${Math.random() * 10 + 5}s`;
                element.style.animationDelay = `${Math.random() * 5}s`;
                floatingElementsContainer.appendChild(element);
            }
        }

        // Initial setup
        document.addEventListener('DOMContentLoaded', () => {
            showSlide(currentSlide);
            createFloatingElements();
        });
    </script>
</body>
</html>